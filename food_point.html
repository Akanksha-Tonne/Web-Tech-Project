<!DOCTYPE html>
<html>
<head>
	<link href="shop_style.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
	<title>DeliciousMenu.com</title>
	
</head>
<body>

	
		<div id="body">
			<div id = "navbar" class="navbar">
					<nav class="font">
						<a href="index_change.html"><strong>Home </strong></a>
						<a href="login_change.html"><strong>Login  </strong></a>
						<a href="#about_us"><strong>About us!</strong></a>
					</nav>
			</div>
			<br><br><br><br><br><br><br><br><br><br><br><br><br>
			<div id="heading">
			<h2><strong>B-Block</strong></h2><br>
			Click on the shop you want to order from!
			</div>
		<br>
		<div class="shop_image_f">
		<div >
			<h2>Food Point</h2>
					<a href="food_point.html"><img class="shop_image" src="Food_point_img.jpg" alt="shop1" height="300" width="300"></a>
					<p class="shop_text">
					text about shop
					</p>
		</div>
	</div>
		<br>


		
		<p id="menu">Food Point</p>
	<section class="shop_items">
		<img class="shop_items_img" src="maggi.jpeg" width="200px" height="200px">
		<p class="item_description"><strong>Maggi</strong><br>Description</p>
		<span class="price">price : 30</span>
		<p id="list_of_food_selected_food_point1" onclick="change(this.id)">
			<button id="fp1" onclick="addToCart(this.id)" class="price_button">+</button><button id='but1' class='price_button'>Add</button><button id="fp1" onclick="removeFromCart(this.id)" class="price_button">-</button>
			<p>0</p>
		</p>

	</section>
	<section class="shop_items">
		<img class="shop_items_img" src="bread_pakora.jpeg" width="200px" height="200px">
		<p class="item_description"><strong>Bread Pakoda</strong><br>Description</p>
		<span class="price">price : 40</span>
		<p id="fp2" onclick="change(this.id)">
			<button id="fp2" onclick="addToCart(this.id)" class="price_button">+</button><button id='but2' class='price_button'>Add</button><button id="fp2" onclick="removeFromCart(this.id)" class="price_button">-</button>
			<p></p>
		</p>

	</section>
	<section class="shop_items">
		<img class="shop_items_img" src="sandwich.jpeg" width="200px" height="200px">
		<p class="item_description"><strong>Sandwich</strong><br>Description</p>
		<span class="price">price : 50</span>
		<p id="fp3" onclick="change(this.id)">
			<button id="fp3" onclick="addToCart(this.id)" class="price_button">+</button><button id='but3' class='price_button'>Add</button><button id="fp3" onclick="removeFromCart(this.id)" class="price_button">-</button>
			<p></p>
		</p>

	</section>
	<section class="shop_items">
		<img class="shop_items_img" src="veg_hakka.jpeg" width="200px" height="200px">
		<p class="item_description"><strong>Veg Hakka Noodles</strong><br>Description</p>
		<span class="price">price : 30</span>
		<p id="fp4" onclick="change(this.id)">
			<button id="fp4" onclick="addToCart(this.id);" class="price_button">+</button><button id='but4' class='price_button'>Add</button><button id="fp4" onclick="removeFromCart(this.id);" class="price_button">-</button>
			<p></p>
		</p>

	</section>
	<a id="payment" href="payment.html"><strong>PROCEED TO PAY.</strong></a>
	<br><br>

		<div id="about_us">
			<h2><strong>About Us</strong></h2>
				<div id="some_data">
					<div class="some_thing">
						<strong>Address</strong>:Outer Ring Rd, Banashankari 3rd Stage, Banashankari, Bengaluru, Karnataka 560085
					</div>
					<div class="some_thing">
						<strong>Campus</strong>:Urban
					</div>	
					<div class="some_thing">
						<strong>Terms Of Use.</strong>
						
					</div>
					<div class="some_thing">
						<strong>License</strong>:All rights reserved.
					</div>
				</div>
		</div>
	</div>
		<div id="social_media">
			<ul>
			  <li><a href="#index_change.html"><img src="facebook.jpg" height="30" width="30"></a></li>
			  <li><a href="#index_change.html"><img src="pintrest.jpg" height="30" width="30"></a></li>
			  <li><a href="#index_change.html"><img src="instagram.jpg" height="30" width="30"></a></li>
			  <li><a href="#index_change.html"><img src="google+.jpg" height="30" width="30"></a></li>
			  <li><a href="#index_change.html"><img src="twitter.jpg" height="30" width="30"></a></li>
			  <li><a href="#index_change.html"><img src="whatsapp.jpg" height="30" width="30"></a></li>
			</ul>
		</div>
	




		<script type="text/javascript">
			//All changes to javascript
			var button1=document.getElementById('but1');
			var button2=document.getElementById('but2');
			var button3=document.getElementById('but3');
			var button4=document.getElementById('but4');
			var num1=0,num2=0,num3=0,num4=0;
			const price1=30,price2=40,price3=50,price4=60;
			//add to cart stores the variable in session storage if it is not selected any time 
			//then it add the number of times it is clicked to store the item
		function addToCart(id)
		{
			if(id=='fp1')
			{ 
				if(sessionStorage.getItem('list_of_food_selected_food_point1')!=null)
				{
					num1=num1+1;
					sessionStorage.setItem('list_of_food_selected_food_point1',id+','+num1+','+price1+','+'food1.jpg');
				}
				else
				{
					num1=1;
					sessionStorage.setItem('list_of_food_selected_food_point1',id+','+num1+','+price1+','+'food1.jpg');
			    }
			    button1.innerHTML=num1;
			}
			else if(id=='fp2')
			{
				if(sessionStorage.getItem('list_of_food_selected_food_point2')!=null)
				{
					num2+=1;
					sessionStorage.setItem('list_of_food_selected_food_point2',id+','+num2+','+price2+','+'food1.jpg');
				}
				else
				{
				num2=1;
				sessionStorage.setItem('list_of_food_selected_food_point2',id+','+num2+','+price2+','+'food1.jpg');
			    }
			    button2.innerHTML=num2;
			}
			else if(id=='fp3')
			{
				if(sessionStorage.getItem('list_of_food_selected_food_point3')!=null)
				{
					num3+=1;
					sessionStorage.setItem('list_of_food_selected_food_point3',id+','+num3+','+price2+','+'food1.jpg');
				}
				else
				{
				num3=1;
				sessionStorage.setItem('list_of_food_selected_food_point3',id+','+num3+','+price3+','+'food1.jpg');
			}
			button3.innerHTML=num3;
			}
			else
			{
				if(sessionStorage.getItem('list_of_food_selected_food_point4')!=null)
				{
					num4+=1;
					sessionStorage.setItem('list_of_food_selected_food_point4',id+','+num4+','+price4+','+'food1.jpg');
				}
				else
				{
				num4=1;
				sessionStorage.setItem('list_of_food_selected_food_point4',id+','+num4+','+price4+','+'food1.jpg');
			}
			button4.innerHTML=num4;

		}
	}
		//when clicked on removeFromCart the number of food items ordered is decreased by 1.
		function removeFromCart(id)
		{
			if(id=='fp1'&& num1>0)
			{ 
				if(num1==0)
					{	//console.log('working');
						alert("No item added to the cart");
						return;

					}
				if(sessionStorage.getItem('list_of_food_selected_food_point_1')!=null)
				{
					num1=num1-1;
					if(num1==0)
					{	//console.log('working');
						sessionStorage.removeItem('list_of_food_selected_food_point_1');
						button1.innerHTML='Add';
						return;

					}
					sessionStorage.setItem('list_of_food_selected_food_point_1',id+','+num1+','+price1+','+'food1.jpg');
					button1.innerHTML=num1;
				}
			}
			else if(id=='fp2'&& num1>0)
			{
				if(num2==0)
					{	//console.log('working');
						alert("No item added to the cart");
						return;

					}
				if(sessionStorage.getItem('list_of_food_selected_food_point_2')!=null)
				{
					num2=num2-1;
					if(num2==0)
					{	//console.log('working');
						sessionStorage.removeItem('list_of_food_selected_food_point_2');
						button2.innerHTML='Add';
						return;

					}
					sessionStorage.setItem('list_of_food_selected_food_point_2',id+','+num2+','+price2+','+'food1.jpg');
					button2.innerHTML=num2;
				}
			}
			else if(id=='fp3'&& num1>0)
			{
				if(num3==0)
					{	//console.log('working');
						alert("No item added to the cart");
						return;
					}
				if(sessionStorage.getItem('list_of_food_selected_food_point_3')!=null && num3>0)
				{
					num3-=1;
					if(num3==0)
					{
						button3.innerHTML='Add';
						sessionStorage.removeItem('list_of_food_selected_food_point_3');
						return;
					}
					sessionStorage.setItem('list_of_food_selected_food_point_3',id+','+num3+','+price2+','+'food1.jpg');
					button3.innerHTML=num3;
				}
			
			}
			else
			{
				if(num4==0)
			{	//console.log('working');
			
				alert("No item added to the cart");
				
				return;
			}
			if(sessionStorage.getItem('list_of_food_selected_food_point_4')!=null && num4>0)
			{
				num4-=1;
				if(num4==0)
				{	//console.log('working');
					sessionStorage.removeItem('list_of_food_selected_food_point_4');
					button4.innerHTML='Add';
					return;
				}
				sessionStorage.setItem('list_of_food_selected_food_point_4',id+','+num4+','+price4+','+'food1.jpg');
				button4.innerHTML=num4;
			}
		}
			}

		
		function change(id)
		{	
			var i;
			//search the id of element which was clicked in session array
			for (i = 0; i < sessionStorage.length; i++)
			{
				if(sessionStorage.getItem(sessionStorage.key(i)).split(',')[0]==id);
				break;
			}
			//add the updated value of number of items an item was selected to the shop page
				
				var t=sessionStorage.getItem(sessionStorage.key(i)).split(',')[1];
				console.log(document.getElementById(id).parentNode.nodeName);
				document.getElementById(id).parentNode.childNodes[2][document.getElementById(id).childNodes[0].nodeType === 3 ? 'data' : 'innerHTML']=t;//change the last paragraph element.
				
			
		}
	</script>
	
</body>
</html>